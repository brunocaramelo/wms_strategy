import{_ as f,o as a,c as m,a as s,w as r,v as i,t as c,b as p,d as b}from"./app-CbRfr_mp.js";const h={data(){return{name:"",password:"",confirm_password:"",email:"",lastname:"",cep:"",street:"",city:"",street_number:"",state:"",neighborhood:"",messageError:"",messageSuccess:""}},methods:{findCepLocation(){axios.get("/api/address/search/"+this.cep,{}).then(n=>{this.messageError=null,this.street=n.data.data.street,this.city=n.data.data.city,this.state=n.data.data.state,this.neighborhood=n.data.data.neighborhood}).catch(n=>{this.messageError=n.response.data.message,this.street=null,this.city=null,this.state=null,this.neighborhood=null})},submitForm(){axios.post("/api/register",{name:this.name,password:this.password,confirm_password:this.confirm_password,email:this.email,lastname:this.lastname,cep:this.cep,street:this.street,city:this.city,street_number:this.street_number,state:this.state,neighborhood:this.neighborhood}).then(n=>{this.messageError=null,this.messageSuccess="Usuario criado com sucesso ..redirecionando para login",setTimeout(()=>{this.$router.push("/login")},2e3)}).catch(n=>{var d;const e=n.response.data;if(this.messageError=e.message,e.errors)for(const[u,o]of Object.entries(e.errors))(d=document.querySelector(`[name=${u}]`))==null||d.classList.add("p-invalid")})}}},g={class:"login-form"},_=s("h2",null,"Novo Cadastro",-1),w={class:"form-group"},y=s("label",{class:"block mb-2 text-sm font-medium",for:"name"},"Nome:",-1),v={class:"form-group"},x=s("label",{class:"block mb-2 text-sm font-medium",for:"lastname"},"Sobrenome:",-1),k={class:"form-group"},V=s("label",{class:"block mb-2 text-sm font-medium",for:"email"},"E-mail:",-1),E={class:"form-group"},U=s("label",{class:"block mb-2 text-sm font-medium",for:"password"},"Senha:",-1),S={class:"form-group"},C=s("label",{class:"block mb-2 text-sm font-medium",for:"confirm_password"},"Confirmar Senha:",-1),B={class:"form-group"},N=s("label",{class:"block mb-2 text-sm font-medium",for:"cep"},"CEP:",-1),F={class:"form-group"},L=s("label",{class:"block mb-2 text-sm font-medium",for:"street"},"Rua:",-1),D={class:"form-group"},M=s("label",{class:"block mb-2 text-sm font-medium",for:"street_number"},"NÃºmero:",-1),R={class:"form-group"},T=s("label",{class:"block mb-2 text-sm font-medium",for:"neighborhood"},"Bairro:",-1),j={class:"form-group"},q=s("label",{class:"block mb-2 text-sm font-medium",for:"city"},"Cidade:",-1),A={class:"form-group"},O=s("label",{class:"block mb-2 text-sm font-medium",for:"state"},"Estado:",-1),P=s("button",{type:"submit",class:"bg-blue-500 text-white font-medium p-2 rounded shadow-sm hover:bg-blue-600"},"Enviar",-1),z={key:0,style:{margin:"10px 0",padding:"4px"},class:"p-invalid"},G={key:1,style:{margin:"10px 0",padding:"4px"},class:"p-valid"},H=s("a",{style:{float:"right"},href:"/login",class:"bg-blue-500 text-white font-medium p-2 rounded shadow-sm hover:bg-blue-600"},"Voltar",-1);function I(n,e,d,u,o,l){return a(),m("div",g,[_,s("form",{onSubmit:e[12]||(e[12]=b((...t)=>l.submitForm&&l.submitForm(...t),["prevent"]))},[s("div",w,[y,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"name",type:"name",id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>o.name=t)},null,512),[[i,o.name]])]),s("div",v,[x,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"lastname",type:"lastname",id:"lastname","onUpdate:modelValue":e[1]||(e[1]=t=>o.lastname=t)},null,512),[[i,o.lastname]])]),s("div",k,[V,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"email",type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=t=>o.email=t)},null,512),[[i,o.email]])]),s("div",E,[U,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"password",type:"password",id:"password","onUpdate:modelValue":e[3]||(e[3]=t=>o.password=t)},null,512),[[i,o.password]])]),s("div",S,[C,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"confirm_password",type:"password",id:"confirm_password","onUpdate:modelValue":e[4]||(e[4]=t=>o.confirm_password=t)},null,512),[[i,o.confirm_password]])]),s("div",B,[N,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"cep",type:"cep",id:"cep","onUpdate:modelValue":e[5]||(e[5]=t=>o.cep=t),onBlur:e[6]||(e[6]=(...t)=>l.findCepLocation&&l.findCepLocation(...t))},null,544),[[i,o.cep]])]),s("div",F,[L,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"street",type:"street",id:"street","onUpdate:modelValue":e[7]||(e[7]=t=>o.street=t)},null,512),[[i,o.street]])]),s("div",D,[M,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"street_number",type:"street_number",id:"street_number","onUpdate:modelValue":e[8]||(e[8]=t=>o.street_number=t)},null,512),[[i,o.street_number]])]),s("div",R,[T,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"neighborhood",type:"neighborhood",id:"neighborhood","onUpdate:modelValue":e[9]||(e[9]=t=>o.neighborhood=t)},null,512),[[i,o.neighborhood]])]),s("div",j,[q,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"city",type:"city",id:"city","onUpdate:modelValue":e[10]||(e[10]=t=>o.city=t)},null,512),[[i,o.city]])]),s("div",A,[O,r(s("input",{class:"w-full p-2 border rounded shadow-sm focus:ring-2 focus:ring-blue-500",name:"state",type:"state",id:"state","onUpdate:modelValue":e[11]||(e[11]=t=>o.state=t)},null,512),[[i,o.state]])]),P,o.messageError?(a(),m("div",z,c(o.messageError),1)):p("",!0),o.messageSuccess?(a(),m("div",G,c(o.messageSuccess),1)):p("",!0),H],32)])}const K=f(h,[["render",I]]);export{K as default};
